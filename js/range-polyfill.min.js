// HTML5 Range polyfill | Jonathan Stipe | https://github.com/jonstipe/range-polyfill

$(function(){if(!Modernizr.inputtypes.range){$('input[type="range"]').each(function(e){var t=this;var n=parseFloat($(t).attr("min")),r=parseFloat($(t).attr("max")),i=parseFloat($(t).attr("step")),s=parseFloat($(t).attr("value")),o=$(t).prop("disabled");var u=document.createElement("input");$(u).attr({type:"hidden",name:$(t).attr("name"),value:s||n||0,disabled:o||false});var a=document.createElement("div");if(t.hasAttribute("class")){a.className=$(t).attr("class")}if(t.hasAttribute("style")){a.setAttribute("style",$(t).attr("style"))}$(a).css({position:"relative"});var f=document.createElement("div");var l=$(t).width(),c=$(t).height();var h=c>l;if(h){$(f).css({height:"100%"})}else{$(f).css({width:"100%"})}$(f).appendTo(a);$(t).replaceWith(u);$(a).insertAfter(u);$(f).slider({min:n,max:r,step:i,value:s||n||0,disabled:o||false,orientation:h?"vertical":"horizontal",change:function(e,t){$(u).attr("value",$(f).slider("option","value"))}});if($(this).attr("list")!==undefined){$("datalist#"+$(this).attr("list")+" option").each(function(e){var t=document.createElement("div");$(t).addClass("range-tick-mark");$(t).addClass(h?"range-tick-mark-vertical":"range-tick-mark-horizontal");var i=($(this).attr("value")-n)/(r-n)*100;$(t).css({position:"absolute",top:h?100-i+"%":"0px",left:h?"0px":i+"%"});$(t).appendTo(a)})}$('output[onforminput="value = '+$(this).attr("name")+'.value"]').each(function(e){var t=this;t.removeAttribute("onforminput");$(f).bind("slide",function(e,n){$(t).text(n.value)});$(t).text($(u).val())})})}})